{"ast":null,"code":"var _jsxFileName = \"D:\\\\Final Project\\\\fw-furniture\\\\src\\\\components\\\\UserProfilePage.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport Header from './Header';\nimport './UserProfilePage.css';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst menuItems = ['PURCHASES', 'EXCHANGES AND RETURNS', 'NOTIFICATIONS', 'PAYMENT METHODS', 'PROFILE', 'SETTINGS', '', 'FAVOURITES', 'HELP', 'DOWNLOAD APP'];\nconst UserProfilePage = () => {\n  _s();\n  var _user$name, _user$surname;\n  const navigate = useNavigate();\n  // Get user info from localStorage\n  const user = JSON.parse(localStorage.getItem('user')) || {};\n  const handleSignOut = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    navigate('/');\n    window.location.reload();\n  };\n  const handleDeleteAccount = async () => {\n    if (!window.confirm('Are you sure you want to delete your account? This action cannot be undone.')) return;\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/auth/profile', {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      if (data.success) {\n        alert('Account deleted successfully.');\n        localStorage.removeItem('token');\n        localStorage.removeItem('user');\n        navigate('/');\n        window.location.reload();\n      } else {\n        alert(data.message || 'Failed to delete account.');\n      }\n    } catch (error) {\n      alert('Network error. Please try again.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-page-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"profile-sidebar\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: menuItems.map((item, idx) => item ? /*#__PURE__*/_jsxDEV(\"li\", {\n            className: item === 'PROFILE' ? 'active' : '',\n            children: item\n          }, item, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"profile-sidebar-spacer\"\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"profile-main\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-main-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-user-name\",\n            children: [(_user$name = user.name) === null || _user$name === void 0 ? void 0 : _user$name.toUpperCase(), \" \", (_user$surname = user.surname) === null || _user$surname === void 0 ? void 0 : _user$surname.toUpperCase()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-info-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-info-label\",\n              children: \"ADDRESSES\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-info-label\",\n              children: \"MY MEASUREMENTS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-info-label\",\n              children: \"EMAIL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-info-value\",\n              children: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-info-label\",\n              children: \"PHONE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-info-value\",\n              children: [user.phone_prefix, \" \", user.telephone]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-info-label\",\n              children: \"PASSWORD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-info-value\",\n              children: '..........'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"profile-signout-btn\",\n            onClick: handleSignOut,\n            children: \"SIGN OUT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"profile-delete-btn\",\n            onClick: handleDeleteAccount,\n            children: \"DELETE ACCOUNT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(UserProfilePage, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = UserProfilePage;\nexport default UserProfilePage;\nvar _c;\n$RefreshReg$(_c, \"UserProfilePage\");","map":{"version":3,"names":["React","Header","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","menuItems","UserProfilePage","_s","_user$name","_user$surname","navigate","user","JSON","parse","localStorage","getItem","handleSignOut","removeItem","window","location","reload","handleDeleteAccount","confirm","token","response","fetch","method","headers","data","json","success","alert","message","error","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","item","idx","name","toUpperCase","surname","email","phone_prefix","telephone","onClick","_c","$RefreshReg$"],"sources":["D:/Final Project/fw-furniture/src/components/UserProfilePage.jsx"],"sourcesContent":["import React from 'react';\r\nimport Header from './Header';\r\nimport './UserProfilePage.css';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst menuItems = [\r\n  'PURCHASES',\r\n  'EXCHANGES AND RETURNS',\r\n  'NOTIFICATIONS',\r\n  'PAYMENT METHODS',\r\n  'PROFILE',\r\n  'SETTINGS',\r\n  '',\r\n  'FAVOURITES',\r\n  'HELP',\r\n  'DOWNLOAD APP',\r\n];\r\n\r\nconst UserProfilePage = () => {\r\n  const navigate = useNavigate();\r\n  // Get user info from localStorage\r\n  const user = JSON.parse(localStorage.getItem('user')) || {};\r\n\r\n  const handleSignOut = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    navigate('/');\r\n    window.location.reload();\r\n  };\r\n\r\n  const handleDeleteAccount = async () => {\r\n    if (!window.confirm('Are you sure you want to delete your account? This action cannot be undone.')) return;\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/auth/profile', {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      });\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        alert('Account deleted successfully.');\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('user');\r\n        navigate('/');\r\n        window.location.reload();\r\n      } else {\r\n        alert(data.message || 'Failed to delete account.');\r\n      }\r\n    } catch (error) {\r\n      alert('Network error. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"profile-page-container\">\r\n        <aside className=\"profile-sidebar\">\r\n          <ul>\r\n            {menuItems.map((item, idx) =>\r\n              item ? (\r\n                <li key={item} className={item === 'PROFILE' ? 'active' : ''}>{item}</li>\r\n              ) : (\r\n                <li key={idx} className=\"profile-sidebar-spacer\"></li>\r\n              )\r\n            )}\r\n          </ul>\r\n        </aside>\r\n        <main className=\"profile-main\">\r\n          <div className=\"profile-main-content\">\r\n            <div className=\"profile-user-name\">{user.name?.toUpperCase()} {user.surname?.toUpperCase()}</div>\r\n            <div className=\"profile-info-list\">\r\n              <div className=\"profile-info-label\">ADDRESSES</div>\r\n              <div className=\"profile-info-label\">MY MEASUREMENTS</div>\r\n              <div className=\"profile-info-label\">EMAIL</div>\r\n              <div className=\"profile-info-value\">{user.email}</div>\r\n              <div className=\"profile-info-label\">PHONE</div>\r\n              <div className=\"profile-info-value\">{user.phone_prefix} {user.telephone}</div>\r\n              <div className=\"profile-info-label\">PASSWORD</div>\r\n              <div className=\"profile-info-value\">{'..........'}</div>\r\n            </div>\r\n            <button className=\"profile-signout-btn\" onClick={handleSignOut}>SIGN OUT</button>\r\n            <button className=\"profile-delete-btn\" onClick={handleDeleteAccount}>DELETE ACCOUNT</button>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserProfilePage; "],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAO,uBAAuB;AAC9B,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE/C,MAAMC,SAAS,GAAG,CAChB,WAAW,EACX,uBAAuB,EACvB,eAAe,EACf,iBAAiB,EACjB,SAAS,EACT,UAAU,EACV,EAAE,EACF,YAAY,EACZ,MAAM,EACN,cAAc,CACf;AAED,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,UAAA,EAAAC,aAAA;EAC5B,MAAMC,QAAQ,GAAGV,WAAW,CAAC,CAAC;EAC9B;EACA,MAAMW,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC;EAE3D,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAC1BF,YAAY,CAACG,UAAU,CAAC,OAAO,CAAC;IAChCH,YAAY,CAACG,UAAU,CAAC,MAAM,CAAC;IAC/BP,QAAQ,CAAC,GAAG,CAAC;IACbQ,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;EAC1B,CAAC;EAED,MAAMC,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACtC,IAAI,CAACH,MAAM,CAACI,OAAO,CAAC,6EAA6E,CAAC,EAAE;IACpG,IAAI;MACF,MAAMC,KAAK,GAAGT,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,MAAMS,QAAQ,GAAG,MAAMC,KAAK,CAAC,wCAAwC,EAAE;QACrEC,MAAM,EAAE,QAAQ;QAChBC,OAAO,EAAE;UACP,eAAe,EAAE,UAAUJ,KAAK;QAClC;MACF,CAAC,CAAC;MACF,MAAMK,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;MAClC,IAAID,IAAI,CAACE,OAAO,EAAE;QAChBC,KAAK,CAAC,+BAA+B,CAAC;QACtCjB,YAAY,CAACG,UAAU,CAAC,OAAO,CAAC;QAChCH,YAAY,CAACG,UAAU,CAAC,MAAM,CAAC;QAC/BP,QAAQ,CAAC,GAAG,CAAC;QACbQ,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;MAC1B,CAAC,MAAM;QACLW,KAAK,CAACH,IAAI,CAACI,OAAO,IAAI,2BAA2B,CAAC;MACpD;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdF,KAAK,CAAC,kCAAkC,CAAC;IAC3C;EACF,CAAC;EAED,oBACE7B,OAAA,CAAAE,SAAA;IAAA8B,QAAA,gBACEhC,OAAA,CAACH,MAAM;MAAAoC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACVpC,OAAA;MAAKqC,SAAS,EAAC,wBAAwB;MAAAL,QAAA,gBACrChC,OAAA;QAAOqC,SAAS,EAAC,iBAAiB;QAAAL,QAAA,eAChChC,OAAA;UAAAgC,QAAA,EACG7B,SAAS,CAACmC,GAAG,CAAC,CAACC,IAAI,EAAEC,GAAG,KACvBD,IAAI,gBACFvC,OAAA;YAAeqC,SAAS,EAAEE,IAAI,KAAK,SAAS,GAAG,QAAQ,GAAG,EAAG;YAAAP,QAAA,EAAEO;UAAI,GAA1DA,IAAI;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAA2D,CAAC,gBAEzEpC,OAAA;YAAcqC,SAAS,EAAC;UAAwB,GAAvCG,GAAG;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAyC,CAEzD;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eACRpC,OAAA;QAAMqC,SAAS,EAAC,cAAc;QAAAL,QAAA,eAC5BhC,OAAA;UAAKqC,SAAS,EAAC,sBAAsB;UAAAL,QAAA,gBACnChC,OAAA;YAAKqC,SAAS,EAAC,mBAAmB;YAAAL,QAAA,IAAA1B,UAAA,GAAEG,IAAI,CAACgC,IAAI,cAAAnC,UAAA,uBAATA,UAAA,CAAWoC,WAAW,CAAC,CAAC,EAAC,GAAC,GAAAnC,aAAA,GAACE,IAAI,CAACkC,OAAO,cAAApC,aAAA,uBAAZA,aAAA,CAAcmC,WAAW,CAAC,CAAC;UAAA;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACjGpC,OAAA;YAAKqC,SAAS,EAAC,mBAAmB;YAAAL,QAAA,gBAChChC,OAAA;cAAKqC,SAAS,EAAC,oBAAoB;cAAAL,QAAA,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACnDpC,OAAA;cAAKqC,SAAS,EAAC,oBAAoB;cAAAL,QAAA,EAAC;YAAe;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACzDpC,OAAA;cAAKqC,SAAS,EAAC,oBAAoB;cAAAL,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC/CpC,OAAA;cAAKqC,SAAS,EAAC,oBAAoB;cAAAL,QAAA,EAAEvB,IAAI,CAACmC;YAAK;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACtDpC,OAAA;cAAKqC,SAAS,EAAC,oBAAoB;cAAAL,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC/CpC,OAAA;cAAKqC,SAAS,EAAC,oBAAoB;cAAAL,QAAA,GAAEvB,IAAI,CAACoC,YAAY,EAAC,GAAC,EAACpC,IAAI,CAACqC,SAAS;YAAA;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC9EpC,OAAA;cAAKqC,SAAS,EAAC,oBAAoB;cAAAL,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAClDpC,OAAA;cAAKqC,SAAS,EAAC,oBAAoB;cAAAL,QAAA,EAAE;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrD,CAAC,eACNpC,OAAA;YAAQqC,SAAS,EAAC,qBAAqB;YAACU,OAAO,EAAEjC,aAAc;YAAAkB,QAAA,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACjFpC,OAAA;YAAQqC,SAAS,EAAC,oBAAoB;YAACU,OAAO,EAAE5B,mBAAoB;YAAAa,QAAA,EAAC;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzF;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC;EAAA,eACN,CAAC;AAEP,CAAC;AAAC/B,EAAA,CAxEID,eAAe;EAAA,QACFN,WAAW;AAAA;AAAAkD,EAAA,GADxB5C,eAAe;AA0ErB,eAAeA,eAAe;AAAC,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}